<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox Test - Primal Registration</title>
    <link rel="stylesheet" href="/assets/css/primal-register.css">
    <link rel="stylesheet" href="/assets/css/primal-registration.css">
    <style>
        body {
            background: #181818;
            color: white;
            font-family: Arial, sans-serif;
            padding: 2rem;
            max-width: 600px;
            margin: 0 auto;
        }
        .test-container {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
        }
        .debug-info {
            background: rgba(0, 255, 0, 0.1);
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>Checkbox Functionality Test</h1>
    <p>This page tests the checkbox functionality from the registration form.</p>
    
    <div class="test-container">
        <h2>Test Registration Form with Live Validation</h2>
        
        <form id="register-form" class="primal-form" method="POST" novalidate>
            <div class="input-group">
                <input type="text" name="username" class="primal-input" placeholder="Choose your username (min 3 chars)" required aria-label="Username" />
            </div>

            <div class="input-group">
                <input type="email" name="email" class="primal-input" placeholder="Enter your email address" required aria-label="Email Address" />
            </div>

            <div class="input-group">
                <input type="password" name="password" class="primal-input" placeholder="Create a strong password (min 6 chars)" required aria-label="Password" />
            </div>

            <div class="input-group">
                <input type="password" name="confirm_password" class="primal-input" placeholder="Confirm your password" required aria-label="Confirm Password" />
            </div>
        
            <div class="form-options">
                <label class="checkbox-group">
                    <input type="checkbox" name="terms" id="terms-test" required>
                    <div class="checkmark"></div>
                    <span class="label-text">I agree to the <a href="#" class="terms-link">Terms of Service</a> and <a href="#" class="terms-link">Privacy Policy</a></span>
                </label>

                <label class="checkbox-group">
                    <input type="checkbox" name="marketing" id="marketing-test">
                    <div class="checkmark"></div>
                    <span class="label-text">I want to receive exclusive offers and updates</span>
                </label>
            </div>
            
            <button type="submit" class="primal-btn-primary">Create Account</button>
        </form>
        
        <div class="debug-info" id="debug-info">
            <strong>Live Validation Test:</strong><br>
            • Type in username (watch for real-time feedback)<br>
            • Type email (validation appears as you type)<br>
            • Type password (strength indicator)<br>
            • Type confirm password (match validation)<br>
            • Check/uncheck boxes<br><br>
            
            <strong>Current State:</strong><br>
            Terms checkbox: <span id="terms-status">unchecked</span><br>
            Marketing checkbox: <span id="marketing-status">unchecked</span>
        </div>
        
        <button onclick="testFormValidation()" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 10px;">Test Form Validation</button>
    </div>

    <script src="/assets/js/primal-registration.js"></script>
    <script>
        // Additional debug script
        function updateDebugInfo() {
            const termsCheckbox = document.getElementById('terms-test');
            const marketingCheckbox = document.getElementById('marketing-test');
            
            document.getElementById('terms-status').textContent = termsCheckbox.checked ? 'checked' : 'unchecked';
            document.getElementById('marketing-status').textContent = marketingCheckbox.checked ? 'checked' : 'unchecked';
        }
        
        function testFormValidation() {
            const form = document.getElementById('register-form');
            const inputs = form.querySelectorAll('input');
            
            let report = 'Form Validation Test Results:\n\n';
            
            inputs.forEach(input => {
                const hasError = input.classList.contains('error');
                const hasSuccess = input.classList.contains('success');
                const hasWarning = input.classList.contains('warning');
                
                let status = 'neutral';
                if (hasError) status = 'ERROR';
                if (hasSuccess) status = 'SUCCESS';
                if (hasWarning) status = 'WARNING';
                
                report += `${input.name}: ${status} (value: "${input.value}")\n`;
            });
            
            alert(report);
        }
        
        function testCheckboxes() {
            updateDebugInfo();
            const termsChecked = document.getElementById('terms-test').checked;
            const marketingChecked = document.getElementById('marketing-test').checked;
            
            alert(`Terms: ${termsChecked ? 'CHECKED' : 'UNCHECKED'}\nMarketing: ${marketingChecked ? 'CHECKED' : 'UNCHECKED'}`);
        }
        
        // Listen for checkbox changes
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox') {
                updateDebugInfo();
                console.log('Checkbox changed:', e.target.name, 'is now', e.target.checked);
            }
        });
        
        // Initial update
        setTimeout(updateDebugInfo, 100);
    </script>
</body>
</html>
